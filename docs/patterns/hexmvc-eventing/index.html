<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Andy Bulka</title>
<meta name="description" content="Appendix - Hexmvc Events Andy Bulka,
March 2012
Back to main HexMVC Pattern.
On Eventing Eventing is up to you to implement any way you like. You need to be able to broadcast ‘events’ which cause methods to be run on an arbitrary number of observers. The broadcaster is ignorant of the exact identity of the observers. Its the observer pattern.
A lightweight synchronous, eventing system I recommend a lightweight synchronous, eventing system / observer pattern that is based on method calling on objects.">
<meta property="og:url" content="https://abulka.github.io/patterns/hexmvc-eventing/">
  <meta property="og:site_name" content="Andy Bulka">
  <meta property="og:title" content="Andy Bulka">
  <meta property="og:description" content="Appendix - Hexmvc Events Andy Bulka,
March 2012
Back to main HexMVC Pattern.
On Eventing Eventing is up to you to implement any way you like. You need to be able to broadcast ‘events’ which cause methods to be run on an arbitrary number of observers. The broadcaster is ignorant of the exact identity of the observers. Its the observer pattern.
A lightweight synchronous, eventing system I recommend a lightweight synchronous, eventing system / observer pattern that is based on method calling on objects.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="patterns">
    <meta property="article:modified_time" content="2022-02-14T11:07:35+11:00">

  <meta itemprop="name" content="Andy Bulka">
  <meta itemprop="description" content="Appendix - Hexmvc Events Andy Bulka,
March 2012
Back to main HexMVC Pattern.
On Eventing Eventing is up to you to implement any way you like. You need to be able to broadcast ‘events’ which cause methods to be run on an arbitrary number of observers. The broadcaster is ignorant of the exact identity of the observers. Its the observer pattern.
A lightweight synchronous, eventing system I recommend a lightweight synchronous, eventing system / observer pattern that is based on method calling on objects.">
  <meta itemprop="dateModified" content="2022-02-14T11:07:35+11:00">
  <meta itemprop="wordCount" content="2598">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Andy Bulka">
  <meta name="twitter:description" content="Appendix - Hexmvc Events Andy Bulka,
March 2012
Back to main HexMVC Pattern.
On Eventing Eventing is up to you to implement any way you like. You need to be able to broadcast ‘events’ which cause methods to be run on an arbitrary number of observers. The broadcaster is ignorant of the exact identity of the observers. Its the observer pattern.
A lightweight synchronous, eventing system I recommend a lightweight synchronous, eventing system / observer pattern that is based on method calling on objects.">




<link rel="preload" href="/scss/main.min.14fa15fc58c12d37d276ddf7a238d2028bfd61a7cc9685a90604de3b79d28104.css" as="style">
<link href="/scss/main.min.14fa15fc58c12d37d276ddf7a238d2028bfd61a7cc9685a90604de3b79d28104.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X0GNQ7330T"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-X0GNQ7330T');
}
</script>
  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">Andy Bulka</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/blog/"><span>Blog</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/projects/"><span>Projects</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/patterns/"><span>My Design Patterns</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/about/"><span>About</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.72c816015d917ca835d778c2767d29f8.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-default td-outer">
      <main role="main" class="td-main">
        <h1 id="appendix---hexmvc-events">Appendix - Hexmvc Events</h1>
<p>Andy Bulka,<br>
March 2012</p>
<p><a href="/patterns/hexmvc/#appendix">Back</a> to main HexMVC Pattern.</p>
<h2 id="on-eventing">On Eventing</h2>
<p>Eventing is up to you to implement any way you like.  You need to be able to broadcast ‘events’ which cause methods to be run on an arbitrary number of observers.  The broadcaster is ignorant of the exact identity of the observers.  Its the observer pattern.</p>
<h4 id="a-lightweight-synchronous-eventing-system">A lightweight synchronous, eventing system</h4>
<p>I recommend a lightweight synchronous, eventing system / observer pattern that is based on method calling on objects.  It</p>
<ul>
<li>does not require event objects</li>
<li>does not require registrations of interest</li>
<li>does not have complex if then else statements figuring out what to do</li>
<li>does not need classes to implement subject or observer functionaltiy</li>
</ul>
<p>All you need is a multicast object type, which holds an array of interested listener objects.  When you call a method on that object, the method is called on all interested listener objects.  The method name you are calling is deemed to be the ‘event’.</p>
<p>In the following example, observers is a variable of type ‘multicast’.</p>
<p>e.g.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>observers <span style="color:#ff79c6">+=</span> obj1
</span></span><span style="display:flex;"><span>observers <span style="color:#ff79c6">+=</span> obj2
</span></span><span style="display:flex;"><span>observers<span style="color:#ff79c6">.</span>NOTIFY()
</span></span></code></pre></div><p>The call to observers.NOTIFY() will cause</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>obj1<span style="color:#ff79c6">.</span>NOTIFY()
</span></span><span style="display:flex;"><span>obj2<span style="color:#ff79c6">.</span>NOTIFY()
</span></span></code></pre></div><p>I am assuming a dynamic language like python or ruby here.  Conceptually, the observer being called must adhere to some expected interface, so that the method/event being called actually exists!  In a dynamic language you don’t need an interface - it can be a convention - ‘duck typing’.</p>
<h4 id="dependency-injection---one-to-one-one-to-many">Dependency Injection - one to one, one to many</h4>
<p>One insight at this point might be that wiring up one-to-one pointers and wiring up one-to-many pointers/observers in this way are just variations of the same thing.</p>
<p>When you wire up your objects to point to each other you are doing dependency injection - as long as the objects are not instantiating instances of the objects they are pointing to themselves, and the injection is done from ‘outside’. The objects being injected are thus depending on an abstraction or interface - which is injected later.</p>
<p>Similarly, when you wire up the observers of an object, by adding them repeatedly using += to a list in a multicast variable, you are also doing dependency injection, except with a multicast flavour.</p>
<p>Its all just wiring.  Its just that some wires are one-to-one and others are one-to-many.</p>
<h3 id="eventing-is-just-method-calling">Eventing is just method calling</h3>
<p>Eventing becomes just method calling on multiple objects</p>
<p>This leads to another insight.  Eventing is just method calling.  Objective C I think sees the world in this way.  And Ruby.  Possibly this is obvious to some people and some languages, but when you do eventing this sort of lightweight multicast technique, it becomes much more obvious.</p>
<p>Whether a method call on an object results in one method call or many method calls is irrelevant.  You could say that calling a method on an object is the same thing as a single event call.</p>
<pre><code>observer = obj1
observer.DoSomething()
</code></pre>
<p>vs</p>
<pre><code>observers += obj1
observers.DoSomething()
</code></pre>
<p>If you adopt an meaningful name and perhaps an uppercase naming convention on method names which are being called in an event style, then it becomes even more obvious e.g.</p>
<pre><code>observers.NOTIFY_SOMETHING()
</code></pre>
<p>When a method is in uppercase, it looks more like an event, to me.  So that’s why I do it.  When I see a method in upper case I know that it is being called as part of an observer eventing pattern call.  In other words calling methods in this way, this IS the way you broadcast events.</p>
<p>It nice that eventing and method calling become the same thing because you don’t have to learn anything new.  You can pass information in parameters just as you would with a method call.</p>
<p>Its all just method invocation, which is all just eventing - and vice versa - in a sense.  As long as its all hooked up using the principles of dependency injection, which insists on depending only on abstractions/interfaces.  </p>
<p>Its a neat symmetry that lightweight eventing, dependency injection and adapters satisfying interfaces all work together within the HexMvc framework.  The high level architectural concepts and the low level implementation idioms are similar, forming a powerful, cohesive, interrelated yet simple architecture.</p>
<h2 id="advanced-footnotes-on-eventing">Advanced Footnotes on Eventing</h2>
<h3 id="eventing-vs-method-calling">Eventing vs. Method Calling</h3>
<p>In the end, whether an event object is being created and passed to an eventing framework - or whether a piece of code has the knowledge to call a particular method - its all ‘knowledge’ and thus a ‘dependency’.  Knowing what sort of event to raise or register is no less coupled than simply knowing what method to call.  </p>
<p>This argument assumes that you have sufficiently decoupled things by using interfaces and abstractions.  For example, some degree of decoupling occurs when you call methods via eventing, since the caller/raiser doesn’t know what particular objects are ultimately being called.  The same level of loose coupling can also be achieved with ‘mere’ method calls, as long as the object whose method you are calling has been abstractly injected, so that the caller has no idea who is implementing that interface.</p>
<p>The benefit of a multicast method calling approach over an eventing approach is that it is simpler and avoids too much syntax, declaration, duplication and registration etc.  If you already have a nice eventing system and are happy with it, then by all means use it.</p>
<h4 id="functions-instead-of-objects">Functions instead of objects</h4>
<p>A single or multicast notification approach can be done with references to functions (as opposed to references to objects).  You can have a single reference to a function or a reference to an array of functions.</p>
<p>Whilst lists of functions are usable in some situations, I haven’t really thought about eventing in HexMvc using functions only - because it seems to me that functions only give you one shot at calling a method, whilst having a list of objects that implement an interface, gives you an unlimited set of methods you can call on those objects.</p>
<p>This sort of eventing will probably work ok in C# and other .net languages too, using delegates - though there will be the usual type declaration dance needed.  And note that I am assuming the multicast object points to a list of objects, not functions - not sure if this is possible in .net delegates?</p>
<h3 id="synchronous-vs-asynchronous">Synchronous vs Asynchronous</h3>
<p>A synchronous call from view to controller to model, and an immediate calling chain back again in order to construct an immediate response object - this is web mvc.  A partial downside of this approach is that the model doesn’t get a chance to broadcast updates to other sub-systems of the app. If we allow the opportunity for the model to broadcast a message, then other sub-systems like GUI views (not web view related) can update with information.  In other words, a controller setting info on a model silently is a bit limiting - a controller that sets info on a model via a model adapter will trigger other update notifications, which can be a good thing.</p>
<p>All based on synchronous calls - even if it looks like eventing.  Not addressing asynchronous, except in the limited context of server threading.</p>
<h3 id="observer-based-eventing">Observer based Eventing</h3>
<p>A bit of history on Observer based Eventing</p>
<p>This is a bit of a tangent, and may form part of another talk.</p>
<h4 id="regular-observer-pattern">Regular observer pattern</h4>
<p>With the regular observer pattern, you have a ‘subject’ object which contains a list of observer objects. The subject then loops and calls a particular method on all these observer objects when a notification is required.  That’s the basic idea. You can pass paramters in the notification call, incl. strings to tell the observers of different actions to take.  Optionally add some type safety if you like, to ensure both observer and  and ensure both observers follow some interface (to ensure the observers have a OnNotify() method and to ensure subjects have an AddObserver(o) method etc.  Optionally even add some functionality in a subject base class so that your looping NotifyAll() method only has to be implemented once.</p>
<p><img src="/patterns/images/hexmvc/image9.png" alt=""></p>
<h2 id="implementations">Implementations</h2>
<h3 id="java">Java</h3>
<p>Java’s ActionListener with their ActionPerformed methods is essentially the Observer pattern, built into the language/libraries.  It might be a bit cumbersome for normal usage in your app - being very GUI widget centric, but the essential point I want to make is that observers are lists of objects not functions.</p>
<h3 id="net">.NET</h3>
<p>C# and .NET introduced the idea of observer pattern broadcasting using multicast delegates, which are lists of typed functions.  A benefit of this approach is that it doesn’t matter what the observer’s class is or what interface an observer implements - all that matters is that the functions which are added to a subject’s observers list follow the same method signature.  The list of oservers is a multicast delegate object, also pretty much the same thing as an event.  Thus observers hook into some subject’s event in this way.</p>
<p>A possbile downside (or upside, depending on your point of view) of moving from lists of objects to lists of functions is that if there are 10 events you need 10 events on the subject, and 10 functions on each observer.  With the regular observer pattern, you need only have one subscription by an observer, then the observer has to figure out what out of the 10 things happened, usually by a string passed as a parameter e.g. observer.Notify(what) and then an if-then-else statement to perform the relevant code.</p>
<h4 id="birgers-thoughts-on-multicast-in-net">Birger&rsquo;s thoughts on ‘multicast’ in .NET</h4>
<p>I sent an email to my colleague Birger who is an expert in .NET</p>
<p>Hi Birger,</p>
<p>I&rsquo;m wondering if I could ask you a .NET question that would add some colour to my talk next week. I&rsquo;ll be talking about observer pattern and possibly mentioning using .NET events / multicast delegates. Is there something in .NET that allows for lists of OBJECTS (not functions) to be += to some sort of delegate object so that I can invoke a variety of different functions on that list of objects?</p>
<p>Im looking for something built into .NET that would work like my python example below where &lsquo;observers&rsquo;  is a variable of type ‘multicast’ and holds a list of OBJECTS.</p>
<p>e.g.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>observers <span style="color:#ff79c6">+=</span> obj1
</span></span><span style="display:flex;"><span>observers <span style="color:#ff79c6">+=</span> obj2
</span></span><span style="display:flex;"><span>observers<span style="color:#ff79c6">.</span>NOTIFY()
</span></span></code></pre></div><p>The call to observers.NOTIFY() will cause</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>obj1<span style="color:#ff79c6">.</span>NOTIFY()
</span></span><span style="display:flex;"><span>obj2<span style="color:#ff79c6">.</span>NOTIFY()
</span></span></code></pre></div><p>Thanks for any thoughts,</p>
<p>Cheers,<br>
Andy</p>
<h4 id="birgers-response">Birger&rsquo;s response</h4>
<p>Hi Andy,</p>
<p>There&rsquo;s nothing like you describe built-in that I can think of. The
preferred way is to use delegates, at least in UI code.
However, I can think of three or four things you may want to consider&hellip;</p>
<ol>
<li>
<p>There&rsquo;s nothing preventing you from implementing the observer
pattern the way it would be done in Java. (e.g. adding an object
implementing the ActionListener interface to a button:
<a href="https://www.google.com/url?q=http://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html&amp;sa=D&amp;source=editors&amp;ust=1644533497583940&amp;usg=AOvVaw22CiJscUKnhNk0L7KNMElE">http://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html</a></p>
</li>
<li>
<p>Unlike Java, C# supports operator overloading. You can&rsquo;t explicitly
overload the += operator but you could overload the + operator where
your Subject is on the left hand side, your Observer is on the right
hand side and the return value is the same type as your Subject. Then
effectively+= would do what you want. C# won&rsquo;t allow your Subject to
be an interface because operators are essentially static methods and
interfaces don&rsquo;t allow you to define method implementation (and
Microsoft have decided against supporting this via extension methods).
Your Subject would have to be an abstract or concrete class.</p>
</li>
<li>
<p>Since .NET 4.0 Microsoft has included generic IObserver and
IObservable interfaces.<br>
The IObservable interface has a Subscribe method which does what I
think you want the += to do. There is no Unsubscribe method. Instead
the Subscribe method returns an IDisposable object which when disposed
(by calling Dispose) should unsubscribe the Observer. The IObserver
has three methods: OnNext, OnError and OnCompleted. OnNext is the
standard notification method, OnError is to notify the observer of
exceptions and OnCompleted would be the last event (e.g. when the
Observable has finished iterating through a collection, reached the
end of a file or the UI object generating the events has been
disposed).</p>
<ul>
<li>(<a href="https://www.google.com/url?q=http://msdn.microsoft.com/en-us/library/dd990377(v%3Dvs.103).aspx&amp;sa=D&amp;source=editors&amp;ust=1644533497585327&amp;usg=AOvVaw2OcMrE_yS1oBjT41fBDvx_">http://msdn.microsoft.com/en-us/library/dd990377(v=vs.103).aspx</a> and</li>
<li><a href="https://www.google.com/url?q=http://msdn.microsoft.com/en-us/library/dd783449.aspx&amp;sa=D&amp;source=editors&amp;ust=1644533497585638&amp;usg=AOvVaw0DB9nL90L1ooFbbzMVJ6ZT">http://msdn.microsoft.com/en-us/library/dd783449.aspx</a>).</li>
</ul>
</li>
<li>
<p>WPF has something called ObservableCollections. I don&rsquo;t know much
about WPF but this would be more of a library feature than a language
feature and it would be tied to WPF UIs.</p>
</li>
</ol>
<p>Hope my thoughts can help with your presentation.</p>
<p>Cheers,<br>
Birger</p>
<h3 id="python-multicast">Python Multicast</h3>
<p>I contend that the python multicast class is another even better way to do eventing.</p>
<p>This multicast object technique is not a feature of python but can be done in any dynamic language e.g. Ruby.</p>
<p>In the following example, observers is a variable of type ‘multicast’.</p>
<p>e.g.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>observers <span style="color:#ff79c6">+=</span> obj1
</span></span><span style="display:flex;"><span>observers <span style="color:#ff79c6">+=</span> obj2
</span></span><span style="display:flex;"><span>observers<span style="color:#ff79c6">.</span>NOTIFY()
</span></span></code></pre></div><p>The call to observers.NOTIFY() will cause</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>obj1<span style="color:#ff79c6">.</span>NOTIFY()
</span></span><span style="display:flex;"><span>obj2<span style="color:#ff79c6">.</span>NOTIFY()
</span></span></code></pre></div><p>In this implementation the subject has a list of objects - so its more a traditional observer pattern implemnentation.  What makes it unique is that the looping/broadcasting code is built into the multicast object, so there is no need to worry about subject base classes or subject interfaces.  All you do is create a multicast object as a variable/property of your class and you are good to go.</p>
<p>The other benefit of this implementation is that observers simply add themselves to the multicast object and the calls into the observer happen as normal method calls.  If you call observers.FRED() then all observers which have a method FRED() will have that method called.  You can have any number of method calls, and this doesn’t have to be agreed upon in advance with interfaces etc - though you could add that layer of type safety if you really insisited.</p>
<p>Also the method calls can take parameters.  Eventing just becomes method calling - same technology, same techniques - nothing new to learn.  If your observer doesn’t declare a particular method then it will be silently skipped (depending on the nuances of your implementation, you could change this default behaviour).</p>
<h4 id="the-big-picture">The big picture</h4>
<p>Notice that when we have a normal reference to an object e.g. self.other = o1 you perform a method call on that other object with the usual self.other.Blah().</p>
<p>Notice that in our multicast situation, you have a reference to a number of objects e.g. self.observers += o1; self.observers += o2; you perform a method call / event broadcast on those other objects with self.observers.Blah().</p>
<p>Its the same thing.  Singular or plural.  Method calling and eventing.  It all collapses into the same thing.</p>
<p>What this means is that</p>
<ul>
<li>method calls are just events</li>
<li>normal method calls are just one-to-one eventing</li>
<li>multicast method calls are one-to-many eventing</li>
</ul>
<h3 id="ruby-implementation">Ruby implementation</h3>
<p>The python implementation looks like:</p>
<p><a href="https://www.google.com/url?q=http://code.activestate.com/recipes/52289-multicasting-on-objects/&amp;sa=D&amp;source=editors&amp;ust=1644533497574267&amp;usg=AOvVaw2ayhabkbgc971XLzqzOOAA">http://code.activestate.com/recipes/52289-multicasting-on-objects/</a></p>
<p>the core of which is:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#ff79c6">def</span> <span style="color:#50fa7b">__call__</span>(<span style="color:#8be9fd;font-style:italic">self</span>, <span style="color:#ff79c6">*</span>args, <span style="color:#ff79c6">**</span>kwargs):
</span></span></code></pre></div><p>Invoke method attributes and return results through another multicast</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#ff79c6">return</span> <span style="color:#8be9fd;font-style:italic">self</span><span style="color:#ff79c6">.</span>__class__( <span style="color:#ff79c6">[</span> (<span style="color:#ff79c6">alias</span>, obj(<span style="color:#ff79c6">*</span>args, <span style="color:#ff79c6">**</span>kwargs) ) 
</span></span><span style="display:flex;"><span>  <span style="color:#ff79c6">for</span> <span style="color:#ff79c6">alias</span>, obj <span style="color:#ff79c6">in</span> <span style="color:#8be9fd;font-style:italic">self</span><span style="color:#ff79c6">.</span>items() <span style="color:#ff79c6">if</span> callable(obj) <span style="color:#ff79c6">]</span> )
</span></span></code></pre></div><p>A ruby implementation might be <a href="https://www.google.com/url?q=http://codepad.org/6tgNK8Fz&amp;sa=D&amp;source=editors&amp;ust=1644533497575343&amp;usg=AOvVaw1sN5eDXk8tUUGyBzHRVWy0">http://codepad.org/6tgNK8Fz</a></p>
<p>I haven&rsquo;t addressed the multicast attribute access yet. And I haven&rsquo;t addressed the return values issue, though I don&rsquo;t see how a multicast can return values - unless some sort of list of return values is constructed and returned.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span><span style="color:#6272a4"># Beginnings of a &#39;Multicast&#39; class to multiplex messages/attribute requests  </span>
</span></span><span style="display:flex;"><span><span style="color:#6272a4"># to objects which share the same interface.  </span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Fred</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">hi</span>   <span style="color:#8be9fd;font-style:italic">puts</span> <span style="color:#f1fa8c">&#34;hi from Fred&#34;</span> <span style="color:#ff79c6">end</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">count</span> n  
</span></span><span style="display:flex;"><span>   n<span style="color:#ff79c6">.</span>times { <span style="color:#ff79c6">|</span>i<span style="color:#ff79c6">|</span> <span style="color:#8be9fd;font-style:italic">puts</span> i } <span style="color:#ff79c6">end</span>  
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>  
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">Mary</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">hi</span>   <span style="color:#8be9fd;font-style:italic">puts</span> <span style="color:#f1fa8c">&#34;hi from Mary&#34;</span> <span style="color:#ff79c6">end</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">count</span> n  
</span></span><span style="display:flex;"><span>   n<span style="color:#ff79c6">.</span>times { <span style="color:#ff79c6">|</span>i<span style="color:#ff79c6">|</span> <span style="color:#8be9fd;font-style:italic">puts</span> i<span style="color:#ff79c6">+</span><span style="color:#bd93f9">100</span> } <span style="color:#ff79c6">end</span>  
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">end</span>  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">class</span> <span style="color:#50fa7b">MulticastObjects</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">initialize</span>  
</span></span><span style="display:flex;"><span>   <span style="color:#8be9fd;font-style:italic">@objects</span> <span style="color:#ff79c6">=</span> \<span style="color:#ff79c6">[</span>\<span style="color:#ff79c6">]</span> <span style="color:#ff79c6">end</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">add</span>(o)  
</span></span><span style="display:flex;"><span>   <span style="color:#8be9fd;font-style:italic">@objects</span> <span style="color:#ff79c6">&lt;&lt;</span> o <span style="color:#ff79c6">end</span> <span style="color:#ff79c6">def</span> <span style="color:#50fa7b">method</span>\_missing(meth, \<span style="color:#ff79c6">*</span>args, <span style="color:#ff79c6">&amp;</span>block)  
</span></span><span style="display:flex;"><span>   <span style="color:#8be9fd;font-style:italic">@objects</span><span style="color:#ff79c6">.</span>each <span style="color:#ff79c6">do</span> <span style="color:#ff79c6">|</span>o<span style="color:#ff79c6">|</span>  
</span></span><span style="display:flex;"><span>     o<span style="color:#ff79c6">.</span>send meth, \<span style="color:#ff79c6">*</span>args, <span style="color:#ff79c6">&amp;</span>block   <span style="color:#ff79c6">end</span> <span style="color:#ff79c6">end</span>  
</span></span><span style="display:flex;"><span>endobservers <span style="color:#ff79c6">=</span> MulticastObjects<span style="color:#ff79c6">.</span>new  
</span></span><span style="display:flex;"><span>observers<span style="color:#ff79c6">.</span>add(Fred<span style="color:#ff79c6">.</span>new)  
</span></span><span style="display:flex;"><span>observers<span style="color:#ff79c6">.</span>add(Mary<span style="color:#ff79c6">.</span>new)  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>observers<span style="color:#ff79c6">.</span>hi  
</span></span><span style="display:flex;"><span>observers<span style="color:#ff79c6">.</span>count <span style="color:#bd93f9">5</span>  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">puts</span> <span style="color:#f1fa8c">&#34;done&#34;</span>
</span></span></code></pre></div><p>output</p>
<pre><code>hi from Fred  
hi from Mary  
0  
1  
2  
3  
4  
100  
101  
102  
103  
104  
done
</code></pre>
<p><a href="/patterns/hexmvc/#appendix">Back</a> to main HexMVC Pattern.</p>

      </main>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Twitter" aria-label="Twitter">
    <a target="_blank" rel="noopener" href="https://twitter.com/unjazz" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://github.com/abulka/abulka.github.io" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2024
    <span class="td-footer__authors">Andy Bulka</span></span><span class="td-footer__all_rights_reserved">All Rights Reserved</span><span class="ms-2"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Privacy Policy</a></span><p class="td-footer__about mt-2"><a href="/about/">About Andrew Bulka</a></p>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.min.69e2c1ae9320465ab10236d9ef752c6a4442c54b48b883b17c497b7c7d96a796.js" integrity="sha256-aeLBrpMgRlqxAjbZ73UsakRCxUtIuIOxfEl7fH2Wp5Y=" crossorigin="anonymous"></script>
<script defer src="/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js" integrity="sha256-c0eKfUgHaYrtfjVesj&#43;YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>